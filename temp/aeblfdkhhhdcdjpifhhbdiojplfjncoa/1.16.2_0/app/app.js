!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=560)}({0:function(e,t){e.exports=React},1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(37);t.Plural=a.Plural,t.generator=a.generator;var o=n(49);t.T=o.default,t.makeBasicT=o.makeBasicT,t.makeT=o.makeT},18:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return l});var a=n(5),o=n(8);function r(e,t,n){if(e){if(e.avatar)return s(n.uuid,n.baseAvatarURL,e.avatar);if(e.type===a.r&&t&&t.avatar)return s(n.uuid,n.baseAvatarURL,t.avatar);if(e.type===a.p&&n.avatar)return s(n.uuid,n.baseAvatarURL,n.avatar)}return"/images/popup/avatar-vault-default.png"}function i(e){return e.avatar?s(e.uuid,e.baseAvatarURL,e.avatar):e.type===a.o?"/images/avatar-business-default.png":e.type===a.q?"/images/avatar-family-default.png":"/images/avatar-individual-default.png"}function s(e,t,n){if(e&&t&&n)return"/"===n[0]?Object(o.k)(t,n):Object(o.k)(t,e,n)}function c(e,t,n,o,r,i){return e?u(i,r,e):o===a.r&&t?u(i,r,t):o===a.p&&n?u(i,r,n):"/images/popup/avatar-vault-default.png"}function l(e,t,n,o){return n?u(t,e,n):o===a.o?"/images/avatar-business-default.png":o===a.q?"/images/avatar-family-default.png":"/images/avatar-individual-default.png"}function u(e,t,n){return"/"===n[0]?Object(o.k)(e,n):Object(o.k)(e,t,n)}},22:function(e,t,n){"use strict";async function a(e){try{return navigator.clipboard.writeText(e)}catch(t){return function(e){const t=document.createElement("textarea");t.textContent=e;const n=document.getElementsByTagName("body")[0];n.appendChild(t),t.select(),document.execCommand("copy"),n.removeChild(t)}(e)}}n.d(t,"a",function(){return a})},24:function(e,t){e.exports=ReactDOM},30:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(0);const o=({sections:e,optionRenderer:t,headerRenderer:n,onOptionsClicked:o,onChange:r,title:i="",id:s="",value:c="",expanded:l=!1})=>{const u="listbox"+(l?" expanded":""),d=function(e,t){for(const n of e)for(const e of n.options)if(e.value===t)return e;return}(e,c),p=d?d.value:"";return a.createElement("div",{className:"fake_select_button"},a.createElement("button",{"aria-hidden":"true",tabIndex:0,className:"rounded_button select",onClick:o},""!==c&&!!d&&t(d)),a.createElement("div",{id:s,role:"listbox",title:i,tabIndex:-1,className:u,"aria-activedescendant":p},e.map(e=>a.createElement("div",{key:i||e.header},n&&e.header&&a.createElement("h3",{"aria-hidden":"true"},n(e.header)),e.options.map(e=>{const n=e.value===p,o=n?"active":"";return a.createElement("div",{key:e.value,className:o,role:"option","aria-selected":n,id:s,onClick:()=>r&&r(e)},t(e))})))))}},33:function(e,t){e.exports=ReactRouterDOM},35:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var a=n(1);const o={en:{localizedName:Object(a.T)("English"),name:"English"},es:{localizedName:Object(a.T)("Spanish"),name:"español"},fr:{localizedName:Object(a.T)("French"),name:"français"},de:{localizedName:Object(a.T)("German"),name:"Deutsch"},it:{localizedName:Object(a.T)("Italian"),name:"italiano"},ja:{localizedName:Object(a.T)("Japanese"),name:"日本語"},pt:{localizedName:Object(a.T)("Portuguese"),name:"português"},ru:{localizedName:Object(a.T)("Russian"),name:"русский"},ko:{localizedName:Object(a.T)("Korean"),name:"한국어"},"zh-CN":{localizedName:Object(a.T)("Chinese, Simplified"),name:"简体中文"},"zh-TW":{localizedName:Object(a.T)("Chinese, Traditional"),name:"繁體中文"}},r=(e=new Intl.Collator("en"))=>{const t=Object.values(o).map((e,t)=>Object.assign({},e,{id:Object.keys(o)[t]}));return t.sort((t,n)=>e.compare(t.name,n.name)),t}},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=/\s/g,o=/\W/g;t.generator={plain:function(e){return e},hyphens:function(e){return e.trim().replace(a,"-").replace(o,"-")}},t.Plural=function(e,t){var n=t.zero,a=t.one;return"{"+e+", plural,\n"+(n?"\t=0{"+n+"}\n":"")+(a?"\tone{"+a+"}\n":"")+"\tother{"+t.other+"}}"};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};t.splitAndEscapeReplacements=function(e){var t={},n={};for(var a in e)if(e.hasOwnProperty(a)){var o=e[a];"function"==typeof o?n[a]=o:t[a]="string"==typeof o?o.replace(/[&<>"']/g,function(e){return r[e]}):o}return[t,n]},t.assign=function(e,t){var n=Object(e);for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}},45:function(e,t,n){"use strict";n.d(t,"a",function(){return a});class a{constructor(e){this.isExcluded=(e,t)=>{const n=this.excluded[e];return void 0!==n&&(t?n.includes(t):n.includes("all"))},this.toggle=(e,t)=>{let n=this.excluded[e];if(void 0===n)n=t?[t]:["all"],this.excluded[e]=n;else if(null===t)-1===n.indexOf("all")?n.push("all"):n.splice(n.indexOf("all"),1);else if(-1===n.indexOf(t))n.push(t),this.excluded[e]=n;else{const a=n.indexOf(t);n.splice(a,1),this.excluded[e]=n}},this.clone=()=>new a(Object.assign({},this.excluded)),this.excluded=e}}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(50),o=n(37),r=n(51),i=n(52);t.makeBasicT=function(){var e={},t="en",n=o.generator.hyphens,a=function(e){return n(e)},s=function(n,a,o){void 0===a&&(a={}),void 0===o&&(o="");var i=function(e,t,n){var a=e[t],o=e.en;return a&&a[n]?a[n]:o&&o[n]?o[n]:""}(e,t,n)||o||n;return"string"==typeof i?r.default(i,a):i(a)},c=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=""),s(n||a(e),t,e)},l={$:function(e,t,n){void 0===t&&(t={}),void 0===n&&(n="");var a=o.splitAndEscapeReplacements(t),r=a[0],s=a[1],l=c(e,r,n);return i.default(l,s)},generateId:a,locale:function(){return t},lookup:s,set:function(a){return void 0===a&&(a={}),e=a.messages||e,t=a.locale||t,n=a.idGenerator||n,{messages:e,locale:t,idGenerator:n}}};return o.assign(c,l)},t.makeT=function(){var e=t.makeBasicT(),n=function(e){if("undefined"==typeof Intl){var t=function(){throw new Error("Missing Intl")};return{date:t,number:t}}try{Intl.DateTimeFormat(),(new Date).toLocaleString(),(new Date).toLocaleDateString(),(new Date).toLocaleTimeString()}catch(e){Date.prototype.toLocaleString=Date.prototype.toString,Date.prototype.toLocaleDateString=Date.prototype.toDateString,Date.prototype.toLocaleTimeString=Date.prototype.toTimeString,Intl.DateTimeFormat=function(){var e=Intl.DateTimeFormat;function t(){var t=Array.prototype.slice.apply(arguments);return t[0]=t[0]||"en-US",t[1]=t[1]||{},t[1].timeZone=t[1].timeZone||"America/Toronto",e.apply(this,t)}return t.prototype=e.prototype,t}()}var n=a.default(Intl.DateTimeFormat),o=a.default(Intl.NumberFormat);return{date:function(t,o,r){void 0===o&&(o="long"),void 0===r&&(r=e());var i=a.dateTimeFormats[o]||a.dateTimeFormats.long;return n(r,i).format(t)},number:function(t,n,r){void 0===n&&(n="decimal"),void 0===r&&(r=e());var i=a.numberFormats[n]||a.numberFormats.decimal;return o(r,i).format(t)}}}(e.locale);return o.assign(e,n)},t.default=t.makeT()},5:function(e,t,n){"use strict";n.d(t,"l",function(){return a}),n.d(t,"j",function(){return o}),n.d(t,"k",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"m",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"d",function(){return h}),n.d(t,"i",function(){return g}),n.d(t,"r",function(){return f}),n.d(t,"p",function(){return v}),n.d(t,"o",function(){return b}),n.d(t,"q",function(){return E}),n.d(t,"n",function(){return w}),n.d(t,"s",function(){return k}),n.d(t,"t",function(){return C});const a="OPShouldLockNotification",o="OPDidLockNotification",r="OPDidUnlockNotification",i="AccountHandlerDidLockNotification",s="AccountHandlerAccountDestroyedNotification",c="OPVaultItemsDidChangeNotification",l="001",u="002",d="003",p="004",m="005",h="006",g="100",f="P",v="E",b="B",E="F",w="TOTP_";var y,k,C;!function(e){e[e.None=0]="None",e[e.Fill=1]="Fill",e[e.GoNFill=2]="GoNFill"}(y||(y={})),function(e){e[e.Success=0]="Success",e[e.ErrorNoSavedAccounts=1]="ErrorNoSavedAccounts",e[e.ErrorWrongMasterPassword=2]="ErrorWrongMasterPassword",e[e.ErrorMissingDesktopAccount=3]="ErrorMissingDesktopAccount",e[e.ErrorExtraLocalAccount=4]="ErrorExtraLocalAccount",e[e.ErrorChromeUpdateRequired=5]="ErrorChromeUpdateRequired"}(k||(k={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.INFO=1]="INFO",e[e.STEP_REQUIRED=2]="STEP_REQUIRED",e[e.ERROR=3]="ERROR"}(C||(C={}))},50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimeFormats={short:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},dateTime:{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}},t.numberFormats={currency:{style:"currency",currency:"USD"},decimal:{style:"decimal"},percent:{style:"percent"}},t.default=function(e){var t={};return function(n,a){var o=Array.prototype.slice.call(arguments),r=n+"-"+JSON.stringify(a);if(r in t)return t[r];var i,s=new((i=Function.prototype.bind).call.apply(i,[e,null].concat(o)));return t[r]=s,s}}},51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={OPEN:"{",CLOSE:"}"};t.default=function(e,t){if(!t)return e;for(var n="",o=[],r=0;r<e.length;r++)switch(e.charAt(r)){case a.OPEN:o.push(n),n="";break;case a.CLOSE:o.push(t[n]),n="";break;default:n+=e.charAt(r)}return o.push(n),o.join("")}},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o="wrap";t.default=function(e,t){void 0===a&&(a=new DOMParser);var n=a.parseFromString("<"+o+">"+e+"</"+o+">","text/xml");if(!n.firstChild||n.firstChild.nodeName!==o)throw new Error("Could not parse XML string");return function e(t,n,a){if(void 0===a&&(a=!1),t.nodeType===i)return t.nodeValue?[t.nodeValue]:[];if(t.nodeType===r){var o=Array.prototype.slice.call(t.childNodes),s=o.reduce(function(t,a){return t.concat(e(a,n))},[]);return a||!n[t.nodeName]?s:[n[t.nodeName].apply(n,s)]}return[]}(n.firstChild,t,!0)};var r=1,i=3},547:function(e,t,n){},560:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(24),r=n(33),i=n(1),s=n(6);var c=({enabled:e,forceDisable:t,onChange:n})=>a.createElement("div",{className:"controls"},a.createElement("button",{role:"switch","aria-checked":t||e,type:"button",onClick:()=>n(!e),disabled:!!t},a.createElement("div",{className:"thumb"}))),l=n(35),u=n(30);var d=n(8),p=n(18);const m=e=>{const t=Object(a.useMemo)(()=>e.accounts?e.accounts.map(t=>{const n={uuid:t.uuid,name:t.name,avatar:t.avatar,locked:t.locked,vaults:[]};if(!e.itemCache)return n;const a=e.itemCache.vaults[t.uuid];return a?(a.forEach(a=>{a&&n.vaults.push({uuid:a.uuid,name:a.name,avatar:Object(p.c)(a,e.itemCache.userForAccountUUID(t.uuid),e.itemCache.accountWithUUID(t.uuid))})}),n):n}):[],[e.itemCache,e.accounts]),[n,o]=function(){const[e,t]=Object(a.useState)(!1);return[Object(a.useMemo)(()=>{const e=Object(s.j)(),t=[];for(let n in e.excluded)t.push(...e.excluded[n]);return t},[e]),Object(a.useCallback)((n,a)=>{const o=Object(s.j)();o.toggle(n,a),Object(s.l)(o.excluded),t(!e)},[e])]}();return a.createElement(a.Fragment,null,a.createElement("ul",{className:"settings"},t.map(t=>{let r=!1;const s=!t.locked&&t.vaults.map(i=>{const s=!n.includes(i.uuid);return r=r||s,a.createElement("li",{className:"row vault",key:i.uuid},a.createElement("button",{className:"openButton noButton",onClick:n=>((t,n,a)=>{t.preventDefault(),e.onOpenVaultDetails(e.itemCache.vaultWithUUID(n,a))})(n,i.uuid,t.uuid)},a.createElement("div",{className:"avatar vault_avatar indent"},a.createElement("img",{src:i.avatar})),i.name),a.createElement(c,{enabled:s,onChange:()=>((e,t)=>{o(e.uuid,t.uuid)})(t,i)}))});return a.createElement(a.Fragment,null,a.createElement("li",{className:"row vault",key:t.uuid},a.createElement("div",{className:"accountListing","data-name":t.name},a.createElement("button",{className:"openButton noButton",onClick:n=>((t,n)=>{t.preventDefault(),e.onAccountOpenHomePage(n.uuid)})(n,t)},a.createElement("div",{className:"avatar"},a.createElement("img",{src:t.avatar})),t.name),t.locked&&a.createElement("span",{className:"badge"},a.createElement("img",{src:"/images/padlock-mini-light.svg","aria-hidden":"true"})," ",Object(i.T)("Locked"))),a.createElement("div",{className:"vault_controls"},a.createElement("button",{className:"rounded_button",onClick:n=>((t,n)=>{t.preventDefault(),e.onAccountSignOut(n.uuid)})(n,t)},Object(i.T)("Sign Out")),a.createElement(c,{forceDisable:t.locked,enabled:r,onChange:()=>((e,t)=>{e.vaults.forEach(a=>{const r=n.includes(a.uuid);!r&&t?o(e.uuid,a.uuid):r&&!t&&o(e.uuid,a.uuid)})})(t,r)}))),s)}),a.createElement("li",{className:"row vault"},a.createElement("a",{href:"https://start.1password.com/signin/?auth-only=1"},a.createElement("div",{className:"avatar"},a.createElement("img",{src:"/images/shared/button_icon-add.svg"})),Object(i.T)("Add an Account")))))};class h extends a.Component{constructor(e){super(e),this.onBodyClick=()=>{this.state.iconListExpanded&&this.setState({iconListExpanded:!1}),this.state.saveInListExpanded&&this.setState({saveInListExpanded:!1}),this.state.languageListExpanded&&this.setState({languageListExpanded:!1}),this.state.defaultItemListExpanded&&this.setState({defaultItemListExpanded:!1})},this.handleNativeAppStatusChanged=e=>{this.setState({nativeAppSecureConnectionPossible:e.isSecureConnectionPossible,desktopAppName:e.desktopAppName,nativeAppStatusLink:e.link||"",nativeAppStatusMessage:e.message||""})},this.onChromeRuntimeMessage=e=>{"native-app-status-changed"===e.name&&e.data&&this.handleNativeAppStatusChanged(e.data)},this.handleKeyboardShortcutClick=e=>{e.preventDefault(),chrome.tabs.create({url:"chrome://extensions/configureCommands"})},this.handleAutoLockEnabledChange=()=>{this.props.updateConfig({autoLockEnabled:!this.props.autoLockEnabled})},this.handleAutoLockDurationChange=e=>{const t=e.target.value;/[0-9]/.test(t)&&this.setState({autoLockInputValue:t})},this.handleAutoLockOnDeviceSleepChange=()=>{this.props.updateConfig({autoLockOnDeviceSleep:!this.props.autoLockOnDeviceSleep})},this.handleAutoSaveChange=()=>{this.props.updateConfig({autoSaveEnabled:!this.props.autoSaveEnabled})},this.handleInlineEnabledChange=()=>{this.props.updateConfig({inlineEnabled:!this.props.inlineEnabled})},this.handleInlineActiveChange=()=>{this.props.updateConfig({inlineShowAutomatically:!this.props.inlineShowAutomatically})},this.handleDefaultPasswordManagerChange=()=>{this.props.updateConfig({defaultPasswordManager:!this.props.defaultPasswordManager,shouldShowDefaultAutofillPrompt:!1})},this.updateAutoLockMinutes=()=>{let e=parseInt(this.state.autoLockInputValue,10);e=Math.max(s.b,Math.min(e,s.a)),this.setState({autoLockInputValue:e.toString()}),this.props.updateConfig({autoLockMinutes:e})},this.updateSaveExceptions=e=>{this.props.updateConfig({autoSaveExceptions:e})},this.createSaveNewItemsInElement=()=>{if(0===this.props.accounts.length)return null;let e=this.props.saveNewItemIn;e&&this.props.accounts.some(e=>e.uuid===this.props.saveNewItemIn)||(e=this.props.accounts[0].uuid);const t=[{options:this.props.accounts.map(e=>({value:e.uuid,title:e.name,img:e.avatar}))}];return a.createElement("li",{className:"row",key:"saveNewItemsIn"},a.createElement("label",{htmlFor:"toolbarIcon-select"},Object(i.T)("Save new items in")),a.createElement(u.a,{sections:t,optionRenderer:e=>[a.createElement("div",{className:"item_icon-mini masked"},a.createElement("img",{src:e.img})),e.title],expanded:this.state.saveInListExpanded,onChange:this.handleSaveNewItemsInChanged,onOptionsClicked:this.handleSaveNewItemsInListClicked,value:e}))},this.createAutoLockElement=()=>{const e=this.state.autoLockInputValue;return a.createElement("div",{className:"autolock"},a.createElement("input",{id:"autoLock-minutes",type:"number",ref:this.minuteStepper,value:e,max:s.a,min:s.b,onClick:()=>{this.minuteStepper.current.focus()},onChange:this.handleAutoLockDurationChange,onBlur:this.updateAutoLockMinutes}),a.createElement("span",null,Object(i.T)(Object(i.Plural)("numMinutes",{other:"minutes",one:"minute",zero:"minutes"}),{numMinutes:e},"auto-lock.minutes")))},this.handleShowNotifications=()=>{this.props.updateConfig({showNotifications:!this.props.showNotifications})},this.handleIconChanged=e=>{this.props.updateConfig({icon:e.value}),this.props.updateIcon()},this.handleIconListClicked=()=>{this.setState({iconListExpanded:!this.state.iconListExpanded})},this.handleLanguageChanged=e=>{this.props.updateConfig({language:e.id,languageChanged:!0}),this.setState({languageListExpanded:!1})},this.handleLanguageListClicked=()=>{this.setState({languageListExpanded:!this.state.languageListExpanded})},this.handleSaveNewItemsInChanged=e=>{this.props.updateConfig({saveNewItemsIn:e.value}),this.setState({saveInListExpanded:!1})},this.handleSaveNewItemsInListClicked=()=>{this.setState({saveInListExpanded:!this.state.saveInListExpanded})},this.getCurrentKeyboardShortcut=()=>{chrome.commands.getAll(e=>{this.setState({keyboardShortcut:e[0].shortcut})})},this.updateKeyboardShortcut=async e=>{try{await browser.commands.update({name:"_execute_browser_action",shortcut:e}),this.setState({keyboardShortcut:e})}catch(e){throw new Error(e)}},this.handleDesktopAppIntegrationChange=()=>{this.props.updateConfig({desktopAppIntegration:!this.props.desktopAppIntegration})},this.handleDesktopAppOpenPreferencesClicked=(e="general")=>{this.props.showDesktopAppPreferences(e)},this.handleDefaultItemListChange=e=>{this.props.updateConfig({defaultItemList:e.value}),this.setState({defaultItemListExpanded:!1})},this.handleDefaultItemListClicked=()=>{this.setState(e=>({defaultItemListExpanded:!e.defaultItemListExpanded}))},this.handleHIBPChange=()=>{this.props.updateConfig({newHibpEnabled:!this.props.newHibpEnabled})},this.createDefaultItemListElement=()=>{const e=[{title:Object(i.T)("Suggestions"),value:"suggestions",img:"/images/primary_icons/suggestions-mini.svg"},{title:Object(i.T)("Favorites"),value:"favorites",img:"/images/primary_icons/favorite-mini.svg"},{title:Object(i.T)("All Items"),value:"all",img:"/images/primary_icons/all-mini.svg"}];return a.createElement("li",{className:"row"},a.createElement("label",{htmlFor:"item-list-select"},Object(i.T)("Open 1Password to")),a.createElement(u.a,{id:"item-list-select",sections:[{options:e}],optionRenderer:e=>a.createElement("span",{className:"item-list-select-option"},a.createElement("img",{src:e.img,alt:"","aria-hidden":"true"}),e.title),expanded:this.state.defaultItemListExpanded,onChange:this.handleDefaultItemListChange,onOptionsClicked:this.handleDefaultItemListClicked,value:this.props.defaultItemList}))},this.state={autoLockInputValue:""+this.props.autoLockMinutes,keyboardShortcut:void 0,iconListExpanded:!1,languageListExpanded:!1,saveInListExpanded:!1,desktopAppName:"1Password Desktop Application",nativeAppSecureConnectionPossible:!1,nativeAppStatusMessage:"",nativeAppStatusLink:"string",defaultItemListExpanded:!1},this.minuteStepper=a.createRef(),this.accountsAndVaults=a.createRef()}componentDidMount(){document.body.addEventListener("click",this.onBodyClick),this.getCurrentKeyboardShortcut(),chrome.runtime.onMessage.addListener(this.onChromeRuntimeMessage),chrome.runtime.sendMessage({name:"settings-page-ready"},this.handleNativeAppStatusChanged);const e=new URL(window.location.href).searchParams.get("scrollTo");if(e)switch(e){case"accountsAndVaults":window.scrollTo(0,this.accountsAndVaults.current.offsetTop)}}componentWillUnmount(){document.body.removeEventListener("click",this.onBodyClick),chrome.runtime.onMessage.removeListener(this.onChromeRuntimeMessage)}render(){const{accounts:e,brainVersion:t,desktopAppIntegration:n,version:o}=this.props;if(!e)return a.createElement("p",null,"Loading...");return a.createElement("div",{className:"settings"},a.createElement("div",{id:"left"},a.createElement("div",{className:"rectangle card"},a.createElement("img",{src:"/images/app/app_icon.svg",width:"72",height:"72"}),a.createElement("h1",{className:"title"},"1Password ",a.createElement("span",null,"X")),a.createElement("div",{className:"platform_indicator"},a.createElement("img",{src:"/images/app/browser-chrome.svg"})," ",Object(d.e)()),a.createElement("p",null,a.createElement("span",{title:t},Object(i.T)("version {version}",{version:o})),a.createElement("br",null),a.createElement("a",{href:"https://app-updates.agilebits.com/product_history/B5X"},Object(i.T)("release notes")),a.createElement("br",null),a.createElement("a",{href:chrome.runtime.getURL("CREDITS.md")},Object(i.T)("credits"))))),a.createElement("div",{id:"right"},!1,this.state.nativeAppSecureConnectionPossible?a.createElement("section",null,a.createElement("h2",null,Object(i.T)("1Password Chrome Extension")),a.createElement("ul",{className:"settings"},a.createElement("li",{className:"row"},a.createElement("label",{htmlFor:"toolbarIcon-select"},Object(i.T)("Toolbar button appearance")),a.createElement(u.a,{sections:[{options:[{value:"mono-light",img:"/images/icons/app_icon-light_bg-mono-unlocked-16.svg"},{value:"color-light",img:"/images/icons/app_icon-light_bg-color-unlocked-16.svg"}]}],optionRenderer:e=>a.createElement("img",{src:e.img}),expanded:this.state.iconListExpanded,onChange:this.handleIconChanged,onOptionsClicked:this.handleIconListClicked,value:this.props.icon})),this.createDefaultItemListElement(),this.createSaveNewItemsInElement(),a.createElement("li",{className:"row"},a.createElement("label",null,Object(i.T)("Make 1Password the default password manager")),a.createElement(c,{enabled:this.props.defaultPasswordManager,onChange:this.handleDefaultPasswordManagerChange})),a.createElement("li",{className:"row"},a.createElement("label",null,Object(i.T)("Show autofill menu on field focus")),a.createElement(c,{enabled:this.props.inlineShowAutomatically,forceDisable:!this.props.inlineEnabled,onChange:this.handleInlineActiveChange})))):a.createElement(a.Fragment,null,a.createElement("section",null,a.createElement("h2",null,Object(i.T)("Security")),a.createElement("ul",{className:"settings"},a.createElement("li",{className:"row"},a.createElement("label",{htmlFor:"autoLock-switch"},Object(i.T)("Automatically lock 1Password")),a.createElement(c,{enabled:this.props.autoLockEnabled,onChange:this.handleAutoLockEnabledChange})),this.props.autoLockEnabled&&a.createElement(a.Fragment,null,a.createElement("li",{className:"row"},a.createElement("label",{htmlFor:"autoLock-minutes"},Object(i.T)("Lock after system is idle for",null,"auto-lock.title")),this.createAutoLockElement()),a.createElement("li",{className:"row"},a.createElement("label",{htmlFor:"autoLock-sleep"},Object(i.T)("Lock when device goes to sleep")),a.createElement(c,{enabled:this.props.autoLockOnDeviceSleep,onChange:this.handleAutoLockOnDeviceSleepChange}))),a.createElement("li",{className:"row"},a.createElement("label",{htmlFor:"hibp-switch"},Object(i.T)("Check for vulnerable passwords")),a.createElement(c,{enabled:this.props.newHibpEnabled,onChange:this.handleHIBPChange}))),a.createElement("div",{className:"description"},Object(i.T)("Look up saved passwords in an online database of security exploits provided by haveibeenpwned.com. This feature may pose a small risk to people who reuse similar passwords.")," ",a.createElement("a",{href:"https://support.1password.com/watchtower-privacy/#your-passwords-are-never-sent-to-us-or-anyone-else",target:"_blank",rel:"noopener noreferrer"},Object(i.T)("Learn more.")))),a.createElement("section",null,a.createElement("h2",null,Object(i.T)("General")),a.createElement("ul",{className:"settings"},a.createElement("li",{className:"row"},a.createElement("label",{htmlFor:"language-select"},Object(i.T)("Language")),a.createElement(u.a,{id:"language-select",sections:[{options:Object(l.b)().map(e=>Object.assign({value:e.id},e))}],optionRenderer:g,expanded:this.state.languageListExpanded,onChange:this.handleLanguageChanged,onOptionsClicked:this.handleLanguageListClicked,value:this.props.language})),a.createElement("li",{className:"row"},a.createElement("label",{htmlFor:"toolbarIcon-select"},Object(i.T)("Toolbar button appearance")),a.createElement(u.a,{sections:[{options:[{value:"mono-light",img:"/images/icons/app_icon-light_bg-mono-unlocked-16.svg"},{value:"color-light",img:"/images/icons/app_icon-light_bg-color-unlocked-16.svg"}]}],optionRenderer:e=>a.createElement("img",{src:e.img}),expanded:this.state.iconListExpanded,onChange:this.handleIconChanged,onOptionsClicked:this.handleIconListClicked,value:this.props.icon})),this.createDefaultItemListElement(),this.createSaveNewItemsInElement(),a.createElement("li",{className:"row"},a.createElement("label",null,Object(i.T)("Make 1Password the default password manager")),a.createElement(c,{enabled:this.props.defaultPasswordManager,onChange:this.handleDefaultPasswordManagerChange})),a.createElement("li",{className:"row"},a.createElement("label",null,Object(i.T)("Allow 1Password to show notifications")),a.createElement(c,{enabled:this.props.showNotifications,onChange:this.handleShowNotifications})),a.createElement("li",{className:"row multi-row"},a.createElement("div",null,a.createElement("label",{htmlFor:"shortcut-field"},Object(i.T)("Open with keyboard shortcut",null,"keyboard-shortcut.title")),a.createElement("div",{className:"keyboard-shortcut"},this.state.keyboardShortcut)),a.createElement("div",null,a.createElement("p",{className:"supplemental"},a.createElement("a",{href:"#",onClick:this.handleKeyboardShortcutClick},Object(i.T)("Change on the Extensions page",null,"ext-page.link"))))))),a.createElement("section",null,a.createElement("h2",null,Object(i.T)("Autofill")),a.createElement("ul",{className:"settings"},a.createElement("li",{className:"row"},a.createElement("label",null,Object(i.T)("Offer to fill and save passwords")),a.createElement(c,{enabled:this.props.inlineEnabled,onChange:this.handleInlineEnabledChange})),a.createElement("li",{className:"row"},a.createElement("label",null,Object(i.T)("Show autofill menu on field focus")),a.createElement(c,{enabled:this.props.inlineShowAutomatically,forceDisable:!this.props.inlineEnabled,onChange:this.handleInlineActiveChange})))),a.createElement("section",{id:"accountsAndVaults",ref:this.accountsAndVaults},a.createElement("div",{className:"settings-head"},a.createElement("h3",null,Object(i.T)("Include in All Vaults")),a.createElement("h2",null,Object(i.T)("Accounts & Vaults"))),a.createElement(m,{itemCache:this.props.itemCache,accounts:this.props.accounts,onAccountOpenHomePage:this.props.onAccountOpenHomePage,onAccountSignOut:this.props.onAccountSignOut,onOpenVaultDetails:this.props.onOpenVaultDetails})))))}}function g(e){return a.createElement("span",null,e.name===e.localizedName?e.name:`${e.name} (${e.localizedName})`)}class f extends a.Component{constructor(e){super(e)}componentWillMount(){document.body.classList.remove("panel"),document.body.classList.add("door")}render(){return a.createElement("div",null,a.createElement("section",{id:"signin"},a.createElement("div",{id:"top-door"},a.createElement("div",{id:"lock"},a.createElement("div",{id:"keyhole-center"}),a.createElement("div",{id:"keyhole"}),a.createElement("div",{id:"keyhole-highlight"})),a.createElement("div",{className:"lock-color"}),a.createElement("div",{className:"lock-color light"})),a.createElement("div",{id:"bottom-door"},a.createElement("div",{id:"content"},this.props.children))),a.createElement("div",null,a.createElement("footer",{className:"center"},a.createElement("a",{href:"https://1password.com"},a.createElement("img",{src:"/images/popup/locked-signup.svg",alt:"1Password"})),a.createElement("p",{className:"small supplemental"},"1Password X (",Object(d.e)(),")"," ",a.createElement("span",{id:"version"},Object(i.T)("version {version}",{version:this.props.version}))),a.createElement("p",{className:"small supplemental"},"© ",(new Date).getFullYear()," AgileBits, Inc. All rights reserved. 317 Adelaide Street West, Toronto, Ontario, M5V1P9, Canada."))))}}class v extends a.Component{componentWillMount(){document.body.classList.add("panel"),document.body.classList.remove("door")}render(){return a.createElement("div",null,a.createElement("header",{id:"panel-header"},a.createElement("img",{src:"/images/icons/onepassword-128.png",width:"48",alt:"1Password"})),a.createElement("div",{id:"panel"},this.props.children))}}class b extends a.Component{constructor(e){super(e),this.createPlatformBadgeElement=()=>a.createElement("p",{className:"platform_indicator"},a.createElement("img",{src:"/images/app/browser-chrome.svg"})," ",Object(d.e)())}handleSignIn(){window.location.href="https://start.1password.com/signin/?auth-only=1"}render(){return a.createElement("div",null,a.createElement("h1",{className:"title"},i.T.$("Welcome to 1Password <xLogo />",{xLogo:()=>a.createElement("span",null,"X")})),this.createPlatformBadgeElement(),a.createElement("div",{id:"account"},a.createElement("p",{className:"supplemental"},Object(i.T)("If you have a 1Password account, sign in to get started.",null,"sign-in.desc")),a.createElement("button",{id:"signInButton",onClick:this.handleSignIn},Object(i.T)("Sign In")),a.createElement("p",{className:"supplemental"},Object(i.T)("Don't have an account yet?"),a.createElement("br",null),a.createElement("a",{href:"https://start.1password.com/signup/"},Object(i.T)("Create your 1Password account")))))}}class E extends a.Component{constructor(e){super(e),this.createVideoElement=()=>a.createElement("a",{id:"video-placeholder",href:"https://www.youtube.com/watch?v=RzBAWGjgnAU",target:"_blank",rel:"noreferrer noopener"},a.createElement("img",{alt:Object(i.T)("Play welcome video"),srcSet:"/images/app/getting-started-video.png 2x"}))}render(){return a.createElement("div",null,a.createElement("section",{className:"center"},a.createElement("header",null,a.createElement("h1",null,Object(i.T)("1Password is ready to go!"),"  🎉"),a.createElement("h2",null,this.props.hasMissingDesktopAppAccounts?i.T.$("Click <button /> in your toolbar to connect with 1Password for Mac.",{button:()=>a.createElement("img",{alt:"1Password",className:"app-icon",src:"/images/icons/app_icon-light_bg-color-locked-24.svg"})}):i.T.$("Click <button /> in your toolbar to access 1Password at any time.",{button:()=>a.createElement("img",{alt:"1Password",className:"app-icon",src:"/images/icons/app_icon-light_bg-color-unlocked-24.svg"})}))),a.createElement("p",null,"📘 ",Object(i.T)("New to 1Password X?")," ",a.createElement("a",{target:"_blank",href:"https://support.1password.com/getting-started-1password-x"},Object(i.T)("Learn how to get started.")))),a.createElement("section",null,a.createElement("div",{className:"video-container"},this.createVideoElement())))}}class w extends a.Component{render(){return this.props.signedIn||this.props.hasMissingDesktopAppAccounts?a.createElement(v,null,a.createElement(E,{hasMissingDesktopAppAccounts:this.props.hasMissingDesktopAppAccounts})):a.createElement(f,{version:this.props.version},a.createElement(b,null))}}class y extends a.Component{constructor(e){super(e),this.hasAccounts=()=>this.props.accounts.length>0,this.updateConfig=e=>{this.setState(t=>({config:Object.assign({},t.config,e)})),this.props.updateFromConfig(e)},this.onAccountSignOut=e=>{this.props.signOut(e)},this.onAccountOpenHomePage=e=>{this.props.openHomePage(e)},this.state={config:e.initialConfig}}render(){return a.createElement(r.Switch,null,a.createElement(r.Route,{path:"/page/welcome",render:e=>a.createElement(w,Object.assign({},e,{signedIn:this.hasAccounts(),hasMissingDesktopAppAccounts:this.props.hasMissingDesktopAppAccounts,version:this.props.version}))}),a.createElement(r.Route,{path:"/page/ready",render:e=>a.createElement(w,Object.assign({},e,{signedIn:!0,hasMissingDesktopAppAccounts:this.props.hasMissingDesktopAppAccounts,version:this.props.version}))}),a.createElement(r.Route,{path:"/page/settings",render:e=>a.createElement(h,Object.assign({},e,{accounts:this.props.accounts,autoLockEnabled:this.state.config.autoLockEnabled,autoLockMinutes:this.state.config.autoLockMinutes,autoLockOnDeviceSleep:this.state.config.autoLockOnDeviceSleep,autoSaveEnabled:this.state.config.autoSaveEnabled,autoSaveExceptions:this.state.config.autoSaveExceptions,brainVersion:this.props.brainVersion,defaultPasswordManager:this.state.config.defaultPasswordManager,desktopAppIntegration:this.state.config.desktopAppIntegration,icon:this.state.config.icon,inlineEnabled:this.state.config.inlineEnabled,inlineShowAutomatically:this.state.config.inlineShowAutomatically,language:this.state.config.language,onOpenVaultDetails:this.props.openVaultDetails,onAccountOpenHomePage:this.onAccountOpenHomePage,onAccountSignOut:this.onAccountSignOut,saveNewItemIn:this.state.config.saveNewItemsIn,showDesktopAppPreferences:this.props.showDesktopAppPreferences,showNotifications:this.state.config.showNotifications,updateConfig:this.updateConfig,updateIcon:this.props.updateIcon,version:this.props.version,itemCache:this.props.itemCache,defaultItemList:this.state.config.defaultItemList,newHibpEnabled:this.state.config.newHibpEnabled}))}))}}n(547);function k(){return new Promise(e=>{chrome.runtime.getBackgroundPage(t=>{e(t.bg)})})}async function C(){(await k()).onepassword.updateToolbarIcon()}async function O(e){(await k()).onepassword.showDesktopAppPreferences(e)}function S(e,t){e.onepassword.removeAccount(t).then(()=>{N()})}async function L(e){(await k()).onepassword.openHomePage(e)}async function A(e){(await k()).onepassword.openVaultDetailsPage(e)}async function N(){const e=await k();i.T.set(e.onepassword.loadI18nConfig());const t=await e.onepassword.loadItemCache(),n=await e.onepassword.getAllAccounts(),c=await e.onepassword.loadVersionFromManifest(),l=await e.onepassword.getBrainVersion(),u=await e.onepassword.getNativeAppStatus();o.render(a.createElement(r.HashRouter,null,a.createElement(y,{accounts:n,brainVersion:l,hasMissingDesktopAppAccounts:u.accounts.missingLocally.length>0,initialConfig:Object(s.k)(),openHomePage:L,openVaultDetails:A,showDesktopAppPreferences:O,signOut:S.bind(this,e),updateFromConfig:e.onepassword.updateFromConfig,updateIcon:C,version:c,itemCache:t})),document.getElementById("root"))}n.d(t,"getBackground",function(){return k}),window.addEventListener("load",N)},6:function(e,t,n){"use strict";const a={ar:"ar-arab-eg","az-arab":"az-arab-ir","az-ir":"az-arab-ir",be:"be-cyrl-by",da:"da-latn-dk",el:"el-grek-gr",en:"en-latn-us",fa:"fa-arab-ir",ja:"ja-jpan-jp",ko:"ko-kore-kr",pt:"pt-latn-br",sr:"sr-cyrl-rs","sr-ru":"sr-latn-ru",sv:"sv-latn-se",ta:"ta-taml-in",uk:"uk-cyrl-ua",zh:"zh-hans-cn","zh-hant":"zh-hant-tw","zh-hk":"zh-hant-hk","zh-gb":"zh-hant-gb","zh-us":"zh-hant-us"},o=["az","bg","cs","de","es","fi","fr","hu","it","lt","lv","nl","pl","ro","ru"];const r=new RegExp("^([a-z]{2,3}|\\*)(?:-([a-z]{4}|\\*))?(?:-([a-z]{2}|\\*))?(?:-([a-z]{3}|\\*))?$","i"),i=["language","script","region","variant"];class s{constructor(e){const t=r.exec(e.replace(/_/g,"-"));if(!t)return void(this.isWellFormed=!1);let[,n,a,o,i]=t;n&&(this.language=n.toLowerCase()),a&&(this.script=a[0].toUpperCase()+a.slice(1)),o&&(this.region=o.toUpperCase()),this.variant=i,this.isWellFormed=!0}isEqual(e){return i.every(t=>this[t]===e[t])}matches(e,t=!1,n=!1){return i.every(a=>t&&void 0===this[a]||n&&void 0===e[a]||this[a]===e[a])}toString(){return i.map(e=>this[e]).filter(e=>void 0!==e).join("-")}clearVariants(){this.variant=void 0}clearRegion(){this.region=void 0}addLikelySubtags(){const e=function(e){if(a.hasOwnProperty(e))return new s(a[e]);const t=new s(e);return o.includes(t.language)?(t.region=t.language.toUpperCase(),t):null}(this.toString().toLowerCase());return!!e&&(i.forEach(t=>this[t]=e[t]),!0)}}function c(e,t,n,a,o){let r=e[t];if(void 0!==r){if("boolean"===n?r=new Boolean(r):"string"===n&&(r=String(r)),void 0!==a&&-1===a.indexOf(r))throw new Error("Invalid option value");return r}return o}function l(e,t,n={}){const a=c(n,"defaultLocale","string"),o=c(n,"strategy","string",["filtering","matching","lookup"],"filtering");if("lookup"===o&&!a)throw new Error("defaultLocale cannot be undefined for strategy `lookup`");const r=function(e,t,n){const a=new Set,o=new Map;for(let e of t)new s(e).isWellFormed&&o.set(e,new s(e));e:for(const t of e){const e=t.toLowerCase(),r=new s(e);if(void 0!==r.language){for(const t of o.keys())if(e===t.toLowerCase()){if(a.add(t),o.delete(t),"lookup"===n)return Array.from(a);if("filtering"===n)continue;continue e}for(const[e,t]of o.entries())if(t.matches(r,!0,!1)){if(a.add(e),o.delete(e),"lookup"===n)return Array.from(a);if("filtering"===n)continue;continue e}if(r.addLikelySubtags())for(const[e,t]of o.entries())if(t.matches(r,!0,!1)){if(a.add(e),o.delete(e),"lookup"===n)return Array.from(a);if("filtering"===n)continue;continue e}r.clearVariants();for(const[e,t]of o.entries())if(t.matches(r,!0,!0)){if(a.add(e),o.delete(e),"lookup"===n)return Array.from(a);if("filtering"===n)continue;continue e}if(r.clearRegion(),r.addLikelySubtags())for(const[e,t]of o.entries())if(t.matches(r,!0,!1)){if(a.add(e),o.delete(e),"lookup"===n)return Array.from(a);if("filtering"===n)continue;continue e}r.clearRegion();for(const[e,t]of o.entries())if(t.matches(r,!0,!0)){if(a.add(e),o.delete(e),"lookup"===n)return Array.from(a);if("filtering"===n)continue;continue e}}}return Array.from(a)}(Array.from(Object(e)).map(e=>String(e)),Array.from(Object(t)).map(e=>String(e)),o);return"lookup"===o?0===r.length&&r.push(a):a&&!r.includes(a)&&r.push(a),r}var u=n(35),d=n(45);n.d(t,"b",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return f}),n.d(t,"k",function(){return b}),n.d(t,"n",function(){return E}),n.d(t,"m",function(){return w}),n.d(t,"h",function(){return S}),n.d(t,"g",function(){return L}),n.d(t,"f",function(){return A}),n.d(t,"e",function(){return N}),n.d(t,"j",function(){return j}),n.d(t,"l",function(){return T}),n.d(t,"i",function(){return P});const p=1,m=999,h="",g="config",f=()=>({passwordType:"characters",length:20,requireDigits:!0,requireSymbols:!0});const v={autoLockEnabled:!0,autoLockMinutes:10,autoLockOnDeviceSleep:!0,autoSaveEnabled:!0,autoSaveExceptions:[],ignoreAccounts:[],inlineEnabled:!0,inlineShowAutomatically:!0,saveNewItemsIn:h,showNotifications:!0,icon:"color-light",generator:[f(),{passwordType:"words",length:4,separatorType:"hyphens",capitalize:!1,fullWords:!0},{passwordType:"pin",length:4},{passwordType:"syllables",length:5,separatorType:"hyphens",capitalize:!1}],activeGenType:f().passwordType,syllables:!1,newHibpEnabled:!1,language:function(){if("undefined"==typeof navigator)return"en";return l(navigator.languages,Object.keys(u.a),{defaultLocale:"en",strategy:"lookup"})[0]}(),languageChanged:!1,defaultPasswordManager:!1,shouldShowDefaultAutofillPrompt:!1,shouldShowImportPrompt:!1,showTags:!0,shouldShowBuildUpdateNotification:!1,desktopAppIntegration:!0,shouldShowNewPopupPrompt:!0,defaultItemList:"suggestions"};function b(){let e,t=v;try{e=JSON.parse(localStorage.getItem(g))}finally{(t=Object.assign({},v,y(e)))!==e&&w(t)}return t}function E(e){const t=b();for(const[n,a]of Object.entries(e))t[n]=a;return Object.keys(e).includes("defaultPasswordManager")&&(!function(e){void 0!==chrome.privacy.services.autofillEnabled&&(e?chrome.privacy.services.autofillEnabled.set({value:!1}):(chrome.privacy.services.autofillEnabled.clear({}),void 0!==chrome.privacy.services.autofillCreditCardEnabled&&chrome.privacy.services.autofillCreditCardEnabled.clear({}),void 0!==chrome.privacy.services.autofillAddressEnabled&&chrome.privacy.services.autofillAddressEnabled.clear({})));void 0!==chrome.privacy.services.passwordSavingEnabled&&(e?chrome.privacy.services.passwordSavingEnabled.set({value:!1}):chrome.privacy.services.passwordSavingEnabled.clear({}))}(e.defaultPasswordManager),t.shouldShowDefaultAutofillPrompt=!1),w(t),t}function w(e){localStorage.setItem(g,JSON.stringify(y(e)))}function y(e){const t={};function n(e){t[e]=v[e]}for(const a in e)if(typeof e[a]==typeof v[a])switch(t[a]=e[a],a){case"autoLockMinutes":if(e[a]<p||e[a]>m){n(a);break}t[a]=Math.max(0,Math.min(e.autoLockMinutes,m));break;case"activeGenType":v.generator.find(t=>t.passwordType===e[a])||n(a);break;case"icon":["color-light","color-dark","mono-light","mono-dark"].includes(e[a])||n(a);break;case"generator":0!==e.generator.filter(e=>!v.generator.find(t=>e.passwordType===t.passwordType)).length&&n(a),e.generator.length!==v.generator.length&&n(a);break;case"language":e.language in u.a||n(a)}else n(a);return t}let k,C,O;async function S(){const e=await function(){const e=new Headers({"Content-Type":"text/plain; charset=x-user-defined"});return new Promise(t=>{fetch(chrome.runtime.getURL("./build.info"),{headers:e}).then(e=>t(e.json()))})}();k=e.buildnum+"",C=e.builddate,O=e.buildchannel}function L(){return k}function A(){return C}function N(){return O}const I="all-vaults";function j(){let e=localStorage.getItem(I);e||(e="{}");const t=JSON.parse(e);return new d.a(t)}function T(e){localStorage.setItem(I,JSON.stringify(e))}function P(){return new Promise(e=>{chrome.privacy.services.passwordSavingEnabled.get({},t=>{t.value?e(!0):e(!1)})})}},8:function(e,t,n){"use strict";n.d(t,"j",function(){return a}),n.d(t,"k",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"i",function(){return l}),n.d(t,"h",function(){return u}),n.d(t,"m",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"n",function(){return h}),n.d(t,"g",function(){return g}),n.d(t,"f",function(){return f});n(22);function a(e){if(!e)return!1;e=e.toLowerCase();const t=["1password.com","1password.eu","1password.ca","b5dev.com","b5test.com","b5staging.com","b5local.com"];for(const n of t)if(e===n||e.endsWith("."+n))return!0;return!1}const o=(...e)=>{if(0===e.length)return"";if(1===e.length)return e[0];let t=e.shift();if(t){for(const n of e)0!==n.length&&("/"===t.slice(-1)&&"/"===n.charAt(0)?t+=n.slice(1):"/"===t.slice(-1)||"/"===n.charAt(0)?t+=n:t=t+"/"+n);return t}return""};function r(e){return Object.keys(e).reduce((t,n)=>e[n]?t.concat(n):t,[]).join(" ")}function i(){return"Chrome"}const s=e=>{const t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),o=new Uint8Array(a);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);return new Blob([a],{type:n})};function c(e){const t=s(e),n=URL.createObjectURL(t);return new Promise(e=>{const t=document.createElement("canvas"),a=t.getContext("2d");if(a){const o=new Image;o.addEventListener("load",()=>{t.width=o.width,t.height=o.height,a.drawImage(o,0,0,t.width,t.height),e({imageData:a.getImageData(0,0,t.width,t.height),width:t.width,height:t.height})},!1),o.src=n}})}function l(e){try{const t=new URL(e);return"otpauth:"===t.protocol||"otp:"===t.protocol||"yjotp:"===t.protocol}catch(e){return!1}}function u(){return new Promise(e=>{chrome.management.getSelf(t=>{e("development"===t.installType)})})}function d(e){return JSON.stringify([...e])}function p(e){return new Map(JSON.parse(e))}function m(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(parseInt("0x"+t,16))}))}const h=(e,t)=>{let n=new Promise(e=>{let n=setTimeout(()=>{clearTimeout(n),e()},t)});return Promise.race([e,n])},g=e=>{return new URL(e).hostname.split(".").slice(1).join(".")},f=()=>{let e=0;return{width:600,height:450+(e=22)}}}});