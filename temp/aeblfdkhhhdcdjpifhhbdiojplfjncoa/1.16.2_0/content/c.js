var INITIAL_VALUE_ATTRIBUTE="com.onepassword.iv";function isFirefox(){return!1}function ag_focusField(e,t){if(!e)return!1;let n=e.value;return"function"==typeof e.click&&e.click(),"function"==typeof e.focus&&e.focus(),t&&e.value!==n&&(e.value=n),"function"==typeof e.click||"function"==typeof e.focus}function firePreSetValueEvents(e){var t=e.value;ag_focusField(e,!1),e.dispatchEvent(createKeyboardEvent(e,"keydown",0,0)),e.dispatchEvent(createKeyboardEvent(e,"keypress",0,0)),e.dispatchEvent(createKeyboardEvent(e,"keyup",0,0)),(""===e.value||e.dataset[INITIAL_VALUE_ATTRIBUTE]&&e.value===e.dataset[INITIAL_VALUE_ATTRIBUTE])&&(e.value=t)}function firePostSetValueEvents(e){var t=e.value,n=e.ownerDocument.createEvent("HTMLEvents"),l=e.ownerDocument.createEvent("HTMLEvents");e.dispatchEvent(createKeyboardEvent(e,"keydown",0,0)),e.dispatchEvent(createKeyboardEvent(e,"keypress",0,0)),e.dispatchEvent(createKeyboardEvent(e,"keyup",0,0)),l.initEvent("input",!0,!0),e.dispatchEvent(l),n.initEvent("change",!0,!0),e.dispatchEvent(n),e.blur(),(""===e.value||e.dataset[INITIAL_VALUE_ATTRIBUTE]&&e.value===e.dataset[INITIAL_VALUE_ATTRIBUTE])&&(e.value=t);const a=luminance(...getColor(e))<.5?"light":"dark";e.setAttribute("data-com-onepassword-filled",a)}function createKeyboardEvent(e,t,n,l){let a;return isFirefox()?(a=document.createEvent("KeyboardEvent")).initKeyEvent(t,!0,!1,null,!1,!1,!1,!1,n,l):((a=e.ownerDocument.createEvent("Events")).initEvent(t,!0,!1),a.charCode=l,a.keyCode=n,a.which=n,a.srcElement=e,a.target=e),a}function getColor(e){const t=window.getComputedStyle(e).color;if(!t||!t.startsWith("rgb"))return[0,0,0];const n=t.match(/\d+/g);return!n||n.length<3?[0,0,0]:n.map(Number)}function luminance(e,t,n){return(.2126*e+.7152*t+.0722*n)/255}var documentUUID=window.crypto.getRandomValues(new Uint32Array(1))[0].toString(36),FIELD_MAX_LENGTH=999,MAX_EMAIL_ADDRESS_LENGTH=254,DISPLAY_TITLE_ATTRIBUTE="onepasswordTitle",SIGN_IN_URL_ATTRIBUTE="onepasswordSignInUrl",OP_FIELD_TYPE_ATTRIBUTE="onepasswordFieldType",LOGIN_DESIGNATION_ATTRIBUTE="onepasswordDesignation",SECTION_TITLE_ATTRIBUTE="onepasswordSectionTitle",SECTION_FIELD_TITLE_ATTRIBUTE="onepasswordSectionFieldTitle",SECTION_FIELD_VALUE_ATTRIBUTE="onepasswordSectionFieldValue",SECTION_FIELD_KIND_ATTRIBUTE="onepasswordSectionFieldKind",USER_EDITED_ATTRIBUTE="com.agilebits.onepassword.userEdited";function fieldInputListener(e){if(!1===e.isTrusted)return;let t=e.target;"input"===t.tagName.toLowerCase()&&(t.dataset[USER_EDITED_ATTRIBUTE]="yes")}function collectFields(e,t){let n,l=e.defaultView?e.defaultView:window,a=collectableFieldsInDocument(e),r=e.activeElement,i=a[t.activeOPID];i||(i=r);let o=t.maxFields||a.length,u=0,s=o;if(t.activeOPID){let e=Math.floor(o/2);u=Math.max(0,t.activeOPID-e),s=t.activeOPID+e}let c=a.slice(u,s),d=new RegExp("((\\b|_|-)pin(\\b|_|-)|password|passwort|kennwort|(\\b|_|-)passe(\\b|_|-)|contraseña|senha|密码|adgangskode|hasło|wachtwoord)","i"),T=function(e){return"string"==typeof e?e.toLowerCase():(""+e).toLowerCase()};var f=function(e,t){var n,l=e[t];return"string"==typeof l?l:"string"==typeof(n=e.getAttribute(t))?n:null},p=function(e){if("input"===e.nodeName.toLowerCase()){return-1===e.type.search(/button|submit|reset|hidden|checkbox/i)}return!1},E=i?i.form:null,b=Array.prototype.slice.call(ag_querySelectorAll(e,"form")).map(function(e,n){var l={},a="__form__"+n;return e.opid=a,l.opid=a,t.activeOnly&&E!==e?l:(setObjectKeyWithValue(l,"htmlName",f(e,"name")),setObjectKeyWithValue(l,"htmlID",f(e,"id")),setObjectKeyWithValue(l,"htmlAction",fullyQualifiedURL(f(e,"action"))),setObjectKeyWithValue(l,"htmlMethod",f(e,"method")),t.includeTextContent&&(setObjectKeyWithValue(l,"textContent",cleanTextContent(getFormText(e))),setObjectKeyWithValue(l,"headerText",cleanTextContent(getFormHeader(e)))),l)});let h=c.map(function(n,l){"use strict";if(t.activeOnly&&E&&n.form!==E)return null;var a=isVisible(n);if(!a&&t.visibleOnly)return null;if("hidden"===T(n.type))return null;(function(e){return p(e)&&e.hasAttribute("value")})(n)&&!n.dataset[INITIAL_VALUE_ATTRIBUTE]&&(n.dataset[INITIAL_VALUE_ATTRIBUTE]=n.value);var r={},o="__"+(l+u),s=-1==n.maxLength?FIELD_MAX_LENGTH:n.maxLength;return(!s||"number"==typeof s&&isNaN(s))&&(s=FIELD_MAX_LENGTH),e.elementsByOPID[o]=n,n.opid=o,r.opid=o,setObjectKeyWithValue(r,"maxLength",Math.min(s,999),999),setObjectKeyWithValue(r,"visible",i===n||a,!1),t.skipFakeTests?setObjectKeyWithValue(r,"viewable",a):setObjectKeyWithValue(r,"viewable",i===n||!!a&&isViewable(n),!1),setObjectKeyWithValue(r,"htmlID",f(n,"id"),""),setObjectKeyWithValue(r,"htmlName",f(n,"name"),""),setObjectKeyWithValue(r,"htmlClass",f(n,"class")),setObjectKeyWithValue(r,"tabindex",f(n,"tabindex")),setObjectKeyWithValue(r,"title",f(n,"title"),""),setObjectKeyWithValue(r,"userEdited",!!n.dataset[USER_EDITED_ATTRIBUTE],!1),setObjectKeyWithValue(r,"placeholder",f(n,"placeholder"),""),t.includeLabels&&(setObjectKeyWithValue(r,"label-tag",function(t){let n=null,l=[];if(t.labels&&t.labels.length&&t.labels.length>0)l=Array.prototype.slice.call(t.labels);else{if(t.id&&(l=l.concat(Array.prototype.slice.call(ag_querySelectorAll(e,"label[for="+JSON.stringify(t.id)+"]")))),t.name)for(var a=ag_querySelectorAll(e,"label[for="+JSON.stringify(t.name)+"]"),r=0;r<a.length;r++)-1===l.indexOf(a[r])&&l.push(a[r]);for(n=t;n&&n!=e;n=n.parentNode)"label"===T(n.tagName)&&-1===l.indexOf(n)&&l.push(n)}return 0===l.length&&"dd"===(n=t.parentNode).tagName.toLowerCase()&&null!==n.previousElementSibling&&"dt"===n.previousElementSibling.tagName.toLowerCase()&&l.push(n.previousElementSibling),l.length>0?l.map(function(e){return trimLabel(getElementText(e))}).join(""):null}(n),""),setObjectKeyWithValue(r,"label-data",f(n,"data-label"),""),setObjectKeyWithValue(r,"label-aria",f(n,"aria-label"),""),setObjectKeyWithValue(r,"label-top",function(e){let t,n,l,a=e.parentElement;for(;a&&"td"!=T(a.tagName);)a=a.parentElement;if(!a||void 0===a)return null;if("tr"!=(t=a.parentElement).tagName.toLowerCase())return null;if(!(n=t.previousElementSibling)||"tr"!=(n.tagName+"").toLowerCase()||n.cells&&a.cellIndex>=n.cells.length)return null;var r=getElementText(l=n.cells[a.cellIndex]);return r=trimLabel(r)}(n),""),setObjectKeyWithValue(r,"label-right",function(e){var t=[];return collectNextSiblingLabels(e,t),t.join(" ")}(n),""),setObjectKeyWithValue(r,"label-left",function(e){var t=[];return collectPrevSiblingLabels(e,t,0),t.reverse().join(" ")}(n),"")),t.includeTextContent&&setObjectKeyWithValue(r,"textContent",cleanTextContent(getElementText(n))),setObjectKeyWithValue(r,"rel",f(n,"rel")),setObjectKeyWithValue(r,"type",T(f(n,"type"))),setObjectKeyWithValue(r,"value",function(e){switch(T(e.type)){case"checkbox":return e.checked?"✓":"";case"hidden":var t=e.value;return t&&"number"==typeof t.length?(t.length>MAX_EMAIL_ADDRESS_LENGTH&&(t=t.substr(0,MAX_EMAIL_ADDRESS_LENGTH)+"...SNIPPED"),t):"";case"submit":case"button":case"reset":if(""===e.value)return trimLabel(getElementText(e))||"";default:return e.value}}(n)),setObjectKeyWithValue(r,"checked",n.checked,!1),setObjectKeyWithValue(r,"autoCompleteType",n.getAttribute("x-autocompletetype")||n.getAttribute("autocompletetype")||n.getAttribute("autocomplete"),"off"),setObjectKeyWithValue(r,"disabled",n.disabled,!1),setObjectKeyWithValue(r,"readonly",n.readonly||n.readOnly,!1),t.includeSelectInfo&&setObjectKeyWithValue(r,"selectInfo",function(e){let t;return e.options?{options:t=Array.prototype.slice.call(e.options).map(function(e){return[cleanLabel(e.text),e.value]})}:null}(n)),setObjectKeyWithValue(r,"aria-hidden","true"==n.getAttribute("aria-hidden"),!1),setObjectKeyWithValue(r,"aria-disabled","true"==n.getAttribute("aria-disabled"),!1),setObjectKeyWithValue(r,"aria-haspopup","true"==n.getAttribute("aria-haspopup"),!1),setObjectKeyWithValue(r,"data-unmasked",n.dataset.unmasked),setObjectKeyWithValue(r,"data-stripe",f(n,"data-stripe")),setObjectKeyWithValue(r,"data-braintree-name",f(n,"data-braintree-name")),setObjectKeyWithValue(r,OP_FIELD_TYPE_ATTRIBUTE,n.dataset[OP_FIELD_TYPE_ATTRIBUTE]),setObjectKeyWithValue(r,LOGIN_DESIGNATION_ATTRIBUTE,n.dataset[LOGIN_DESIGNATION_ATTRIBUTE]),setObjectKeyWithValue(r,SIGN_IN_URL_ATTRIBUTE,n.dataset[SIGN_IN_URL_ATTRIBUTE]),setObjectKeyWithValue(r,SECTION_TITLE_ATTRIBUTE,n.dataset[SECTION_TITLE_ATTRIBUTE]),setObjectKeyWithValue(r,SECTION_FIELD_KIND_ATTRIBUTE,n.dataset[SECTION_FIELD_KIND_ATTRIBUTE]),setObjectKeyWithValue(r,SECTION_FIELD_TITLE_ATTRIBUTE,n.dataset[SECTION_FIELD_TITLE_ATTRIBUTE]),setObjectKeyWithValue(r,SECTION_FIELD_VALUE_ATTRIBUTE,n.dataset[SECTION_FIELD_VALUE_ATTRIBUTE]),setObjectKeyWithValue(r,"active",n===i,!1),n.form&&(r.form=f(n.form,"opid")),setObjectKeyWithValue(r,"fakeTested",!t.skipFakeTests&&function(e,t){if(-1===["text","password"].indexOf(t.type.toLowerCase()))return!1;if(!(d.test(e.value)||d.test(e.htmlID)||d.test(e.htmlName)||d.test(e.placeholder)||d.test(e["label-tag"])||d.test(e["label-data"])||d.test(e["label-aria"])))return!1;if(!e.visible)return!0;if("password"==t.type.toLowerCase())return!1;var n=t.type;return ag_focusField(t,!0),n!==t.type}(r,n),!1),r}).filter(e=>null!==e);var m,I;h.filter(function(e){return e.fakeTested}).forEach(function(t){var n=e.elementsByOPID[t.opid];n.getBoundingClientRect();firePreSetValueEvents(n),n.click&&n.click(),t.postFakeTestVisible=isVisible(n),t.postFakeTestViewable=isViewable(n),t.postFakeTestType=n.type,firePostSetValueEvents(n)}),n={documentUUID:documentUUID,title:e.title,url:l.location.href,forms:(m=b,I={},m.forEach(function(e){I[e.opid]=e}),I),fields:h,collectedTimestamp:(new Date).getTime()};var y=document.querySelector("[data-onepassword-title]");return y&&y.dataset[DISPLAY_TITLE_ATTRIBUTE]&&(n.displayTitle=y.dataset[DISPLAY_TITLE_ATTRIBUTE]),t.skipFakeTests||i&&p(i)&&ag_focusField(i,!0),n}document.com_agilebits_onepassword_collect=collectFields,document.elementsByOPID={},document.addEventListener("input",fieldInputListener,!0);var DEBUG_BRAIN_UTILS=!1,HIDDEN_POSITION_REGEX=/-\d{3,}px/;function attrValue(e,t){var n=null;return e&&e.attributes&&(n=(n=e.attributes[t])?n.value:null),n}function attrValueMatch(e,t,n){var l=attrValue(e,t);return l&&n.test(l)}function findAllFakePasswordFields(e){var t=new RegExp("((\\b|_|-)pin(\\b|_|-)|password|passwort|kennwort|passe|contraseña|senha|密码|adgangskode|hasło|wachtwoord)","i");return Array.prototype.slice.call(ag_querySelectorAll(e,"input[type='text']")).filter(function(e){"use strict";return e.value&&t.test(e.value)},this)}function touchAllFields(e){e.forEach(function(e){"use strict";firePreSetValueEvents(e),e.click&&e.click(),firePostSetValueEvents(e)})}function getElementText(e){return e.textContent||e.innerText}function getFormText(e){if(elementIs(e.parentNode,"body"))return null;let t="";return safeWalkDOM(e,e=>{e.nodeType===Node.TEXT_NODE&&(t+=" "+e.nodeValue.trim()+" ")}),t}function getFormHeader(e){let t=e.parentElement;if(elementIs(t,"body"))return null;let n=!0,l="";for(;n&&(t=t.parentElement);)1===t.getElementsByTagName("form").length&&t!==document.body?(safeWalkDOM(t,e=>{e.nodeType===Node.TEXT_NODE&&(l+=" "+e.nodeValue.trim()+" ")},t=>t===e),""!==l.trim()&&(n=!1)):n=!1;return l}function cleanTextContent(e){return e?e.replace(/[\n\s]+/g," ").replace(/[~`!@$%^&*()\-_+=:;'"\[\]|\\,<.>\/?]/g,"").trim():null}function safeWalkDOM(e,t,n){let l=["script","style"],a=!1;!function e(r){if(a)return;do{if(n&&n(r)){a=!0;break}r.parentElement&&r.parentElement.tagName&&l.includes(r.parentElement.tagName.toLowerCase())||t(r),r.firstChild&&e(r.firstChild),r=r.nextSibling}while(r)}(e)}function cleanLabel(e){var t=null;return e&&(t=(t=e.toLowerCase().replace(/\s/gm,"").replace(/[~`!@$%^&*()\-_+=:;'"\[\]|\\,<.>\/?]/gm,"")).length>0?t:null),t}function trimLabel(e){var t=null;return e&&(t=(t=e.replace(/^\s+|\s+$|\r?\n.*$/gm,"").replace(/\s{2,}/," ")).length>0?t:null),t}function appendNodeTextToResult(e,t){var n,l="";3===t.nodeType?l=t.nodeValue:1===t.nodeType&&(l=getElementText(t)),(n=trimLabel(l))&&e.push(n)}function shouldStopLabelCollection(e){return!e||void 0===e||elementIs(e,["select","option","input","form","textarea","button","table","iframe","body","head","script"])}function collectPrevSiblingLabels(e,t,n){var l,a;for(n||(n=0);e&&e.previousSibling;){if(shouldStopLabelCollection(e=e.previousSibling))return;appendNodeTextToResult(t,e)}if(e&&0===t.length){for(l=null,a=e;!l;){if(!(a=a.parentElement||a.parentNode))return;for(l=a.previousSibling;l&&!shouldStopLabelCollection(l)&&l.lastChild;)l=l.lastChild}if(shouldStopLabelCollection(l))return;appendNodeTextToResult(t,l),0===t.length&&collectPrevSiblingLabels(l,t,n+1)}}function collectNextSiblingLabels(e,t){for(;e&&e.nextSibling;){if(shouldStopLabelCollection(e=e.nextSibling))return;appendNodeTextToResult(t,e)}}function elementTagName(e){return e?(e.tagName||"").toLowerCase():""}function elementIs(e,t){var n;return!!e&&(n=elementTagName(e),t.constructor==Array?t.indexOf(n)>=0:n===t)}function isVisible(e){for(var t,n=e,l=e.ownerDocument,a=l?l.defaultView:{};n&&n!==l;){if(!(t=a.getComputedStyle&&n instanceof Element?a.getComputedStyle(n,null):n.style))return!0;if("none"===t.display||"hidden"==t.visibility)return!1;n=n.parentNode}return n===l}function isViewable(e){"use strict";var t,n,l=e.ownerDocument.documentElement,a=e.getBoundingClientRect(),r=l.scrollWidth,i=l.scrollHeight,o=a.left-l.clientLeft,u=a.top-l.clientTop;if(!e.offsetParent)return!1;if(e.clientWidth<10||e.clientHeight<10)return!1;var s,c,d=e.getClientRects();if(0===d.length)return!1;for(var T=0;T<d.length;T++){if((n=d[T]).left>r)return!1;if(n.right<0)return!1}if(o<0||o>r||u<0||u>i)return!1;for(s=a.right>window.innerWidth?(window.innerWidth-o)/2:a.width/2,c=a.bottom>window.innerHeight?(window.innerHeight-u)/2:a.height/2,t=e.ownerDocument.elementFromPoint(o+s,u+c);t&&t!==e&&t!==document;){if(t.tagName&&"string"==typeof t.tagName&&"label"===t.tagName.toLowerCase()&&e.labels&&e.labels.length>0)return Array.prototype.slice.call(e.labels).indexOf(t)>=0;t=t.parentNode}return t===e}document.elementForOPID=elementForOPID;var XOR_OBFUSCATION_KEY=150;function xor_deobfuscate(e){var t,n,l;if(!e)return"";for(t="",n=0,l=e.length;n<l;n++)t+=String.fromCharCode(XOR_OBFUSCATION_KEY^e[n]);return t}function makeQuerySelectorSafe(e){"use strict";return e?e.replace(/([:\\.'])/g,"\\$1"):null}function collectableFieldsInDocument(e){return Array.prototype.slice.call(ag_querySelectorAll(e,"input, select, button"))}function elementForOPID(e){"use strict";var t;if(void 0===e||null===e)return null;try{var n=collectableFieldsInDocument(document),l=n.filter(function(t,n,l){return t.opid==e});if(l.length>0)t=l[0];else{var a=parseInt(e.split("__")[1],10);isNaN(a)||(t=n[a])}}catch(e){console.error(e)}finally{return t}}function ag_querySelector(e,t){let n=null;try{n=e.querySelector(t)}catch(e){}return n}function ag_querySelectorAll(e,t){var n=[];try{n=e.querySelectorAll(t)}catch(e){}return n}function setObjectKeyWithValue(e,t,n,l){void 0!==l&&l===n||null!==n&&void 0!==n&&(e[t]=n)}function fullyQualifiedURL(e){var t=new URL(e,window.location.href);return t?t.href:null}